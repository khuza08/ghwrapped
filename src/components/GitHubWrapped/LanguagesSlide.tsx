import React from 'react';
import { GitHubWrappedData } from '@/lib/types';
import { formatNumber } from '@/lib/utils';

interface WrappedSlideProps {
  data: GitHubWrappedData;
}

const LanguagesSlide: React.FC<WrappedSlideProps> = ({ data }) => {
  const { repositories } = data;

  // Get top 5 languages
  const topLanguages = repositories.languageBreakdown.slice(0, 5);

  return (
    <div className="w-full max-w-md mx-auto text-center">
      <h3 className="text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6">Your Languages in 2024</h3>

      <div className="space-y-2 mb-4 sm:mb-6">
        {topLanguages.length > 0 ? (
          topLanguages.map((lang, index) => (
            <div key={index} className="flex items-center justify-between p-2 sm:p-3 bg-gray-50 rounded-lg text-xs sm:text-sm">
              <div className="flex items-center">
                <div
                  className="w-3 h-3 sm:w-4 sm:h-4 rounded-full mr-2 sm:mr-3"
                  style={{ backgroundColor: getLanguageColor(lang.language) }}
                ></div>
                <span className="font-medium text-gray-800">{lang.language}</span>
              </div>
              <div className="text-gray-600">{lang.percentage}%</div>
            </div>
          ))
        ) : (
          <p className="text-gray-600 text-sm sm:text-base">No language data available</p>
        )}
      </div>

      {topLanguages.length > 0 && (
        <div className="mt-4 sm:mt-6">
          <h4 className="font-semibold text-gray-700 text-xs sm:text-sm mb-2">Top Language</h4>
          <div className="w-full bg-gray-200 rounded-full h-2 sm:h-3">
            <div
              className="h-2 sm:h-3 rounded-full"
              style={{
                width: `${topLanguages[0].percentage}%`,
                backgroundColor: getLanguageColor(topLanguages[0].language)
              }}
            ></div>
          </div>
          <div className="flex justify-between mt-1 text-xs text-gray-600">
            <span>{topLanguages[0].language}</span>
            <span>{topLanguages[0].percentage}%</span>
          </div>
        </div>
      )}

      <div className="mt-4 sm:mt-8 text-center">
        <p className="text-xs sm:text-sm text-gray-600">
          You coded in <span className="font-semibold">{repositories.languageBreakdown.length}</span> different languages
        </p>
      </div>
    </div>
  );
};

// Simple language color mapping
const getLanguageColor = (language: string): string => {
  const colors: Record<string, string> = {
    'JavaScript': '#f1e05a',
    'TypeScript': '#2b7489',
    'Python': '#3572A5',
    'Java': '#b07219',
    'PHP': '#4F5D95',
    'Ruby': '#701516',
    'C++': '#f34b7d',
    'C': '#555555',
    'C#': '#178600',
    'Shell': '#89e051',
    'Go': '#00ADD8',
    'Rust': '#dea584',
    'Swift': '#ffac45',
    'Kotlin': '#F18E33',
    'R': '#198CE7',
    'Dart': '#00B4AB',
    'Elixir': '#6e4a7e',
    'Vue': '#41b883',
    'HTML': '#e34c26',
    'CSS': '#563d7c',
    'SCSS': '#c6538c',
    'Sass': '#c6538c',
    'Less': '#1d365d',
    'Stylus': '#333333',
    'Markdown': '#083fa1',
    'Jupyter Notebook': '#DA5B0B',
    'Dockerfile': '#384d54',
    'YAML': '#cb171e',
    'JSON': '#58a6ff',
    'XML': '#005d9d',
    'Makefile': '#427819',
    'CMake': '#2f4aab',
    'Batchfile': '#C1F12E',
    'PowerShell': '#012456',
    'Perl': '#0298c3',
    'Raku': '#e23c56',
    'Objective-C': '#438eff',
    'CoffeeScript': '#244776',
    'Haskell': '#5e5086',
    'Scala': '#c22d40',
    'Erlang': '#A97BFF',
    'Eiffel': '#4d5a63',
    'Clojure': '#db5855',
    'Groovy': '#4298b8',
    'Lua': '#000080',
    'Vim Script': '#199c4b',
    'TeX': '#3D6117',
    'Arduino': '#bd79d1',
    'Visual Basic .NET': '#945db7',
    'Common Lisp': '#3fb68b',
    'PureScript': '#1d222d',
    'Scheme': '#1e4aec',
    'ABAP': '#e8274b',
    'ActionScript': '#882b0f',
    'Ada': '#02f88c',
    'Agda': '#315665',
    'AGS Script': '#B9D9FF',
    'Alloy': '#64C8CB',
    'AMPL': '#E6EFBB',
    'AngelScript': '#C7D7CC',
    'ANTLR': '#9DC3FF',
    'ApacheConf': '#d90e09',
    'Apex': '#1797c0',
    'API Blueprint': '#2AC9A0',
    'APL': '#5A8164',
    'Arc': '#aa2afe',
    'Arduino': '#bd79d1',
    'AsciiDoc': '#d0968c',
    'ASN.1': '#c60000',
    'ASP': '#6a40fd',
    'AspectJ': '#a957b0',
    'Assembly': '#6E4C13',
    'ATS': '#1ac620',
    'Augeas': '#9CC134',
    'AutoHotkey': '#6594b9',
    'AutoIt': '#1d9c57',
    'Awk': '#c30e9b',
    'Batchfile': '#C1F12E',
    'Befunge': '',
    'Bison': '#6A4634',
    'BitBake': '#00bce4',
    'Blade': '#f7523f',
    'BlitzMax': '#cd6400',
    'Boo': '#d4bec1',
    'Brainfuck': '#2F2530',
    'Brightscript': '#ff7124',
    'C-ObjDump': '#3D6117',
    'C2hs Haskell': '#2f1e1e',
    'Ceylon': '#dfa535',
    'Chapel': '#8dc63f',
    'Charity': '#d3451d',
    'ChucK': '#3f8000',
    'Cirru': '#ccccff',
    'Clarion': '#db901e',
    'Clean': '#3F85AF',
    'Click': '#E4E6F3',
    'CLIPS': '#00A300',
    'CMake': '#2f4aab',
    'COBOL': '',
    'ColdFusion': '#ed2cd6',
    'ColdFusion CFC': '#ed2cd6',
    'Common Lisp': '#3fb68b',
    'Component Pascal': '#b0ce4e',
    'Csound': '#191919',
    'Csound Document': '#191919',
    'Csound Score': '#191919',
    'CSS': '#563d7c',
    'Cuda': '#3A4E3A',
    'CWeb': '#000080',
    'Cycript': '#3a3a3a',
    'Cython': '#fedf5b',
    'D': '#fcd46d',
    'Dafny': '#FFC200',
    'Dart': '#00B4AB',
    'DataWeave': '#003a52',
    'Dhall': '#dfafff',
    'DM': '#447261',
    'Dockerfile': '#384d54',
    'Dogescript': '#cca760',
    'DTrace': '#e37933',
    'Dylan': '#6c616e',
    'E': '#ccce35',
    'Eagle': '#347C17',
    'Easybuild': '#069406',
    'EBNF': '#EC9123',
    'eC': '#913960',
    'ECL': '#8a1267',
    'Eiffel': '#4d5a63',
    'Elixir': '#6e4a7e',
    'Elm': '#60B5CC',
    'Emacs Lisp': '#c0dc53',
    'EmberScript': '#FFF4F3',
    'EQ': '#a78649',
    'Erlang': '#B83998',
    'F#': '#b845fc',
    'F*': '#572e30',
    'Factor': '#636746',
    'Fancy': '#7b9db4',
    'Fantom': '#14253c',
    'Faust': '#c37240',
    'Filebench WML': '',
    'Filterscript': '',
    'fish': '#4aae47',
    'FLUX': '#88ccff',
    'Forth': '#341708',
    'Fortran': '#4d41b1',
    'Fortran Free Form': '#4d41b1',
    'FreeMarker': '#0050b2',
    'Frege': '#00cafe',
    'G-code': '#D08CF2',
    'Game Maker Language': '#71b417',
    'GAML': '#FFC766',
    'GAMS': '#f49f1c',
    'GAP': '#0000cc',
    'GCC Machine Description': '#FFCFAB',
    'GDB': '',
    'GDScript': '#355570',
    'Genie': '#fb855d',
    'Genshi': '#951531',
    'Gentoo Ebuild': '#9cffd3',
    'Gentoo Eclass': '#9cffd3',
    'Gherkin': '#5B2063',
    'GLSL': '#569DAA',
    'Glyph': '#c1ac7f',
    'Gnuplot': '#f0a9f0',
    'Go': '#00ADD8',
    'Golo': '#88562A',
    'Gosu': '#82937f',
    'Grace': '#615f84',
    'Grammatical Framework': '#ff0000',
    'GraphQL': '#e10098',
    'Gri': '#564264',
    'Groovy': '#e69f56',
    'Groovy Server Pages': '#4298b8',
    'Hack': '#878787',
    'Haml': '#ece2a9',
    'Handlebars': '#01a9d6',
    'Harbour': '#0e648d',
    'Haskell': '#5e5086',
    'Haxe': '#df7900',
    'HCL': '',
    'HiveQL': '#dce200',
    'HLSL': '#a3522f',
    'HTML': '#e44d26',
    'Hy': '#7790B2',
    'HyPhy': '',
    'IDL': '#a3522f',
    'Idris': '#b30000',
    'IGOR Pro': '#0000cc',
    'Inform 7': '',
    'Inno Setup': '#264b99',
    'Io': '#a9188d',
    'Ioke': '#078193',
    'Isabelle': '#FEFE00',
    'Isabelle ROOT': '#FEFE00',
    'J': '#9EEDFF',
    'JAR Manifest': '',
    'JFlex': '#DBCA00',
    'JSON': '#292929',
    'JSON5': '#292929',
    'JSONLD': '#007ead',
    'Jsonnet': '#0064bd',
    'JSX': '#2B7489',
    'Julia': '#a270ba',
    'Jupyter Notebook': '#DA5B0B',
    'Kaitai Struct': '#773b37',
    'Kotlin': '#F18E33',
    'KRL': '#28430A',
    'LabVIEW': '#fede06',
    'Lasso': '#99991a',
    'Lean': '#A22846',
    'Lex': '#DBCA00',
    'LFE': '#4C302F',
    'LilyPond': '#9ccc7c',
    'Limbo': '',
    'Liquid': '#67b1c6',
    'LiveScript': '#499886',
    'LLVM': '#185619',
    'Logos': '#000064',
    'Logtalk': '#46bdc9',
    'LOLCODE': '#cc9900',
    'LookML': '#652B8D',
    'LoomScript': '',
    'LSL': '#3d9970',
    'Lua': '#000080',
    'M': '',
    'M4': '',
    'M4Sugar': '',
    'Makefile': '#427819',
    'Mako': '#7e7c51',
    'Markdown': '#083fa1',
    'Marko': '#42bff2',
    'Mask': '#f97732',
    'Mathematica': '#dd1100',
    'MATLAB': '#e16737',
    'Max': '#c4a79c',
    'MAXScript': '#00a6a6',
    'mcfunction': '#E22837',
    'Mercury': '#ff2b2b',
    'Meson': '#007800',
    'Metal': '#8f14e9',
    'MiniD': '',
    'Mirah': '#c7a938',
    'mIRC Script': '#3d57c3',
    'MLIR': '#5EC8DB',
    'Modelica': '#de1d3e',
    'Modula-2': '#10253f',
    'Modula-3': '#223388',
    'Module Management System': '',
    'Monkey': '#d8293e',
    'Moocode': '',
    'MoonScript': '#ff4585',
    'MTML': '#b7e1f4',
    'MUF': '',
    'mupad': '#244963',
    'Myghty': '',
    'NCL': '#28431f',
    'Nearley': '#990000',
    'Nemerle': '#3d3c6e',
    'nesC': '#94B0C7',
    'NetLinx': '#0aa0ff',
    'NetLinx+ERB': '#74aae0',
    'NetLogo': '#ff6375',
    'NewLisp': '#87AED7',
    'Nextflow': '#3ac486',
    'Nginx': '#009639',
    'Nim': '#ffc200',
    'Nit': '#009918',
    'Nix': '#7e7eff',
    'NSIS': '',
    'Nu': '#c9df40',
    'NumPy': '#9C80D2',
    'ObjDump': '',
    'Object Pascal': '#f5834d',
    'Objective-C': '#438eff',
    'Objective-C++': '#6866fb',
    'Objective-J': '#ff0c5a',
    'OCaml': '#3be133',
    'Omgrofl': '#cabbff',
    'ooc': '#b0b77e',
    'Opal': '#f7ede0',
    'Open Policy Agent': '',
    'OpenCL': '#ed2e2d',
    'OpenEdge ABL': '#5ce600',
    'OpenQASM': '#AA70FF',
    'OpenRC runscript': '',
    'OpenSCAD': '#e5cd45',
    'Ox': '',
    'Oxygene': '#cdd0e3',
    'Oz': '#fab738',
    'P4': '#7055b5',
    'Pan': '#cc0000',
    'Papyrus': '#6600cc',
    'Parrot': '#f3ca0a',
    'Parrot Assembly': '',
    'Parrot Internal Representation': '',
    'Pascal': '#E3F171',
    'Pawn': '#dbb284',
    'Pep8': '#C76F5B',
    'Perl': '#0298c3',
    'Perl 6': '#0000fb',
    'PHP': '#4F5D95',
    'Pic': '',
    'Pickle': '',
    'PicoLisp': '',
    'PigLatin': '#fcd7de',
    'Pike': '#005390',
    'PLpgSQL': '#336791',
    'PLSQL': '#dad8d8',
    'PogoScript': '#d80074',
    'Pony': '',
    'PostScript': '#da291c',
    'POV-Ray SDL': '#6bac2b',
    'PowerBuilder': '#8f0f00',
    'PowerShell': '#012456',
    'Prisma': '#00AFD2',
    'Processing': '#0096D8',
    'Prolog': '#74283c',
    'Propeller Spin': '#7fa2a7',
    'Pug': '#a86454',
    'Puppet': '#302B6D',
    'Pure Data': '#91de79',
    'PureBasic': '#5a6986',
    'PureScript': '#1d222d',
    'Python': '#3572A5',
    'Python console': '',
    'q': '#0040cd',
    'Q#': '#fed659',
    'QMake': '',
    'QML': '#44a51c',
    'Qt Script': '#00b841',
    'Quake': '#88224a',
    'R': '#198CE7',
    'Racket': '#22228f',
    'Ragel': '#9d5200',
    'Raku': '#0000fb',
    'RAML': '#77d9fb',
    'Rascal': '#fffaa0',
    'REALbasic': '',
    'Reason': '#ff5847',
    'Rebol': '#358a5b',
    'Red': '#f50000',
    'Redcode': '',
    'Ren\'Py': '#ff7f7f',
    'RenderScript': '',
    'REXX': '#d90e09',
    'Ring': '#2D54CB',
    'Riot': '#A71E49',
    'RobotFramework': '#00c0b3',
    'Roff': '#ecdebe',
    'Rouge': '#cc0088',
    'RPC': '',
    'Ruby': '#701516',
    'RUNOFF': '#665a4e',
    'Rust': '#dea584',
    'Sage': '',
    'SaltStack': '#646464',
    'SAS': '#B34936',
    'Sass': '#a53b70',
    'Scala': '#c22d40',
    'Scaml': '#bd181a',
    'Scheme': '#1e4aec',
    'Scilab': '#ca1324',
    'SCSS': '#c6538c',
    'sed': '#64b970',
    'Self': '#0579aa',
    'ShaderLab': '#222c37',
    'Shell': '#89e051',
    'ShellSession': '',
    'Shen': '#1200b2',
    'Slash': '#007eff',
    'Slice': '#003fa2',
    'Slim': '#ff8888',
    'Smali': '',
    'Smalltalk': '#596706',
    'Smarty': '#f0c040',
    'SmPL': '#c94e50',
    'SMT': '',
    'Solidity': '#AA6746',
    'SourcePawn': '#f69e1d',
    'SQF': '#3F354A',
    'SQL': '#e38c00',
    'SQLPL': '#e38c00',
    'Squirrel': '#800000',
    'SRecode Template': '#348a34',
    'Stan': '#b2011d',
    'Standard ML': '#dc566d',
    'Starlark': '#7fb800',
    'Stata': '#1a5f91',
    'STON': '#007d21',
    'Stylus': '#ff6347',
    'SubRip Text': '#9e0101',
    'SugarSS': '#2fcc9f',
    'SuperCollider': '#46390b',
    'Svelte': '#ff3e00',
    'SVG': '#ff8800',
    'Swift': '#ffac45',
    'SWIG': '',
    'SystemVerilog': '#DAE1C2',
    'Tcl': '#e4cc98',
    'Tcsh': '',
    'Tea': '',
    'Terra': '#00004c',
    'TeX': '#3D6117',
    'Thrift': '#D12127',
    'TI Program': '#A0AA87',
    'TLA': '',
    'Turing': '#cf142b',
    'Turtle': '#361900',
    'Twig': '#c8763b',
    'TXL': '#007070',
    'TypeScript': '#2b7489',
    'Unified Parallel C': '#4e3617',
    'Unity3D Asset': '#222c37',
    'Unix Assembly': '',
    'Uno': '#9933cc',
    'UnrealScript': '#a54c4d',
    'Ur': '#694f91',
    'UrWeb': '#ccccee',
    'V': '#4f8bff',
    'Vala': '#a56de2',
    'VCL': '#148AA8',
    'Verilog': '#b2b7f8',
    'VHDL': '#adb2cb',
    'Vim Script': '#199c4b',
    'Visual Basic .NET': '#945db7',
    'Volt': '#1F1F1F',
    'Vue': '#41b883',
    'Wavefront Material': '',
    'Wavefront Object': '',
    'wdl': '#42f1f4',
    'Web Ontology Language': '#5a7bad',
    'WebAssembly': '#04133b',
    'WebIDL': '',
    'wisp': '#7582D1',
    'Wollok': '#a23738',
    'World of Warcraft Addon Data': '#f7e43f',
    'X10': '#4B6BEF',
    'x86 Assembly': '',
    'x86 MASM': '',
    'XC': '#99DA07',
    'XCTest': '',
    'XHTML': '#426095',
    'XML': '#0060ac',
    'Xojo': '#FB720F',
    'XPages': '#005884',
    'XProc': '',
    'XQuery': '#2700e2',
    'XS': '',
    'XSLT': '#EB8CEB',
    'Xtend': '#2449a7',
    'Yacc': '#4B944A',
    'YAML': '#cb171e',
    'YARA': '#220000',
    'YASnippet': '#32AB90',
    'ZAP': '#0d6631',
    'ZIL': '#dc75e5',
    'Zimpl': '#d67e15',
  };

  return colors[language] || '#888888'; // Default gray if language not found
};

export default LanguagesSlide;